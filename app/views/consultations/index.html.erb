<div class="card mt-3">
  <div class="card-header d-flex justify-content-between align-items-center">
    <div class="col">
      <strong><%= t('activerecord.models.consultation', count: 2) %></strong>
    </div>
    <% if @current_user.admin? %>
      <div class="col-auto">
        <%= link_to t('consultations.consultation_create'), { controller: :consultations, action: :new }, class: 'btn btn-link link-secondary' %>
      </div>
    <% end %>
  </div>
  <div class="card-body">
    <table class="table table-striped">
      <thead>
        <tr>
          <th scope="col"><%= t('activerecord.attributes.consultation.title') %></th>
          <th colspan="1"></th>
        </tr>
      </thead>
      <% @consultations.each do |consultation| %>
        <tr>
          <td><%= consultation.title %></td>
          <% if @current_user.admin? %>
            <td><%= link_to t('application.edit'), { controller: :consultations, action: :edit, id: consultation.id }, class: 'btn btn-link py-0' %></td>
          <% else %>
            <td><%= link_to t('questions.vote'), { controller: :consultations, action: :show, id: consultation.id }, class: 'btn btn-link py-0' %></td>
          <% end %>
        </tr>
      <% end %>
    </table>
  </div>
</div>